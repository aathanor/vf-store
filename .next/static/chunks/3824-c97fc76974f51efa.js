"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3824],{96597:function(e,t,s){s.d(t,{Xq:function(){return n},l2:function(){return i},qb:function(){return r}}),s(15355);var a=s(31162);(0,a.$)("ec2b5e44928cedef7ddecd70013ff3fd5ebd0c91"),(0,a.$)("7cd5a08f88fbfb3aacb2686a4afdabc3d8c7effe"),(0,a.$)("86eb11e79b1a5674ba8cb385cc366bf4e667364d");var n=(0,a.$)("37cff34a3fadf9e2cdb7b7dbb6f1f9180a70698d"),r=(0,a.$)("069d42465fdf2cd13be7563593c16254000c8ef8"),i=(0,a.$)("13252aa1465e458ad18052b6c954819598d15552")},8218:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var a=s(57437),n=s(97635),r=s(62637),i=s(56235),l=s(5814),c=s(2265),d=s(52701);let o=(0,c.forwardRef)((e,t)=>{var s;let{placeholder:n="Select...",className:i,children:o,...u}=e,x=(0,c.useRef)(null),[f,m]=(0,c.useState)(!1);return(0,c.useImperativeHandle)(t,()=>x.current),(0,c.useEffect)(()=>{x.current&&""===x.current.value?m(!0):m(!1)},[null===(s=x.current)||void 0===s?void 0:s.value]),(0,a.jsx)("div",{children:(0,a.jsxs)(l.G,{onFocus:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.focus()},onBlur:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.blur()},className:(0,r.L)("relative flex items-center txt-compact-small border text-ui-fg-base group",i,{"text-ui-fg-subtle":f}),children:[(0,a.jsxs)("select",{ref:x,...u,className:"appearance-none bg-transparent border-none px-4 transition-colors duration-150 focus:border-gray-700 outline-none w-16 h-16 items-center justify-center",children:[(0,a.jsx)("option",{disabled:!0,value:"",children:n}),o]}),(0,a.jsx)("span",{className:"absolute flex pointer-events-none justify-end w-8 group-hover:animate-pulse",children:(0,a.jsx)(d.Z,{})})]})})});o.displayName="CartItemSelect";var u=s(71637),x=s(9878),f=s(32780),m=s(88160),h=s(44973),p=s(96597),j=s(29034),b=s(39895),v=s(55072),g=e=>{let{item:t,region:s,type:l="full"}=e,[d,g]=(0,c.useState)(!1),[w,N]=(0,c.useState)(null),{handle:C}=t.variant.product,y=async e=>{N(null),g(!0);let s=await (0,p.qb)({lineId:t.id,quantity:e}).catch(e=>e.message).finally(()=>{g(!1)});s&&N(s)};return(0,a.jsxs)(n.i.Row,{className:"w-full","data-testid":"product-row",children:[(0,a.jsx)(n.i.Cell,{className:"!pl-0 p-4 w-24",children:(0,a.jsx)(v.default,{href:"/products/".concat(C),className:(0,r.L)("flex",{"w-16":"preview"===l,"small:w-24 w-12":"full"===l}),children:(0,a.jsx)(h.Z,{thumbnail:t.thumbnail,size:"square"})})}),(0,a.jsxs)(n.i.Cell,{className:"text-left",children:[(0,a.jsx)(i.x,{className:"txt-medium-plus text-ui-fg-base","data-testid":"product-title",children:t.title}),(0,a.jsx)(x.Z,{variant:t.variant,"data-testid":"product-variant"})]}),"full"===l&&(0,a.jsxs)(n.i.Cell,{children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center w-28",children:[(0,a.jsx)(u.Z,{id:t.id,"data-testid":"product-delete-button"}),(0,a.jsx)(o,{value:t.quantity,onChange:e=>y(parseInt(e.target.value)),className:"w-14 h-10 p-4","data-testid":"product-select-button",children:Array.from({length:Math.min(t.variant.inventory_quantity>0?t.variant.inventory_quantity:10,10)},(e,t)=>(0,a.jsx)("option",{value:t+1,children:t+1},t))}),d&&(0,a.jsx)(j.Z,{})]}),(0,a.jsx)(b.Z,{error:w,"data-testid":"product-error-message"})]}),"full"===l&&(0,a.jsx)(n.i.Cell,{className:"hidden small:table-cell",children:(0,a.jsx)(m.Z,{item:t,region:s,style:"tight"})}),(0,a.jsx)(n.i.Cell,{className:"!pr-0",children:(0,a.jsxs)("span",{className:(0,r.L)("!pr-0",{"flex flex-col items-end h-full justify-center":"preview"===l}),children:["preview"===l&&(0,a.jsxs)("span",{className:"flex gap-x-1 ",children:[(0,a.jsxs)(i.x,{className:"text-ui-fg-muted",children:[t.quantity,"x "]}),(0,a.jsx)(m.Z,{item:t,region:s,style:"tight"})]}),(0,a.jsx)(f.Z,{item:t,region:s,style:"tight"})]})})]})}},5161:function(e,t,s){s.d(t,{$P:function(){return u},et:function(){return l},gC:function(){return i},i8:function(){return c},ju:function(){return d},qb:function(){return o},s1:function(){return n},uF:function(){return r}}),s(15355);var a=s(31162),n=(0,a.$)("491c645dc8d65d0e97d30f12d76385c370075ea4"),r=(0,a.$)("fbacc89c0970d659060cb379cf73649bbb317a5f");(0,a.$)("5177b3d354208b7e98d2f21c1be6e7d658a6eac5"),(0,a.$)("b33fb1f0f8b4262adba25318d6cfb70ca8048898");var i=(0,a.$)("67879acaeff4e54226f97298c88c309053078420"),l=(0,a.$)("ca4e9229d5608a83788bfbfc94cec42bf9c94fc5"),c=(0,a.$)("ae1c37cbbeb79e5d2faaeb7a310d4aba9521d196"),d=(0,a.$)("8d1bd4992e6a2b1ab0ad6f9ab93ac5b5cc2ed8eb"),o=(0,a.$)("ba3e1b28cf33a811f97cc8ff5a8a114f8b9c35bb"),u=(0,a.$)("244a9df657bed0b7cdc10b81f9efc2dd8896cd3d")},65566:function(e,t,s){s.r(t),s.d(t,{default:function(){return j}});var a=s(57437),n=s(52611),r=s(59954),i=s(56235),l=s(51116),c=s(85375),d=s(2265),o=s(54887),u=s(10315),x=e=>{let{size:t="16",color:s="currentColor",...n}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[(0,a.jsx)("path",{d:"M3.33301 5.49054H4.81449H16.6663",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M7.14286 5.5V4C7.14286 3.60218 7.29337 3.22064 7.56128 2.93934C7.82919 2.65804 8.19255 2.5 8.57143 2.5H11.4286C11.8075 2.5 12.1708 2.65804 12.4387 2.93934C12.7066 3.22064 12.8571 3.60218 12.8571 4V5.5M15 5.5V16C15 16.3978 14.8495 16.7794 14.5816 17.0607C14.3137 17.342 13.9503 17.5 13.5714 17.5H6.42857C6.04969 17.5 5.68633 17.342 5.41842 17.0607C5.15051 16.7794 5 16.3978 5 16V5.5H15Z",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M8.33203 9.23724V13.4039",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M11.666 9.23724V13.4039",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},f=s(39895),m=s(85605),h=s(5161),p=s(46128),j=e=>{let{cart:t}=e,[s,j]=d.useState(!1),{discounts:b,gift_cards:v,region:g}=t,w=(0,d.useMemo)(()=>{if(b&&b.length)switch(b[0].rule.type){case"percentage":return"".concat(b[0].rule.value,"%");case"fixed":return"- ".concat((0,p.dN)({amount:b[0].rule.value,region:g}));default:return"Free shipping"}},[b,g]),N=async e=>{await (0,h.et)(e,v)},C=async()=>{await (0,h.gC)(b[0].code)},[y,k]=(0,o.useFormState)(h.i8,null);return(0,a.jsx)("div",{className:"w-full bg-white flex flex-col",children:(0,a.jsxs)("div",{className:"txt-medium",children:[v.length>0&&(0,a.jsxs)("div",{className:"flex flex-col mb-4",children:[(0,a.jsx)(r.X,{className:"txt-medium",children:"Gift card(s) applied:"}),null==v?void 0:v.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between txt-small-plus","data-testid":"gift-card",children:[(0,a.jsxs)(i.x,{className:"flex gap-x-1 items-baseline",children:[(0,a.jsx)("span",{children:"Code: "}),(0,a.jsx)("span",{className:"truncate","data-testid":"gift-card-code",children:e.code})]}),(0,a.jsx)(i.x,{className:"font-semibold","data-testid":"gift-card-amount","data-value":e.balance,children:(0,p.dN)({region:g,amount:e.balance,includeTaxes:!1})}),(0,a.jsxs)("button",{className:"flex items-center gap-x-2 !background-transparent !border-none",onClick:()=>N(e.code),"data-testid":"remove-gift-card-button",children:[(0,a.jsx)(x,{size:14}),(0,a.jsx)("span",{className:"sr-only",children:"Remove gift card from order"})]})]},e.id))]}),w?(0,a.jsx)("div",{className:"w-full flex items-center",children:(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsx)(r.X,{className:"txt-medium",children:"Discount applied:"}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full max-w-full","data-testid":"discount-row",children:[(0,a.jsxs)(i.x,{className:"flex gap-x-1 items-baseline txt-small-plus w-4/5 pr-1",children:[(0,a.jsx)("span",{children:"Code:"}),(0,a.jsx)("span",{className:"truncate","data-testid":"discount-code",children:b[0].code}),(0,a.jsxs)("span",{className:"min-w-fit","data-testid":"discount-amount","data-value":b[0].rule.value,children:["(",w,")"]})]}),(0,a.jsxs)("button",{className:"flex items-center",onClick:C,"data-testid":"remove-discount-button",children:[(0,a.jsx)(x,{size:14}),(0,a.jsx)("span",{className:"sr-only",children:"Remove discount code from order"})]})]})]})}):(0,a.jsxs)("form",{action:k,className:"w-full",children:[(0,a.jsxs)(l.Label,{className:"flex gap-x-1 my-2 items-center",children:[(0,a.jsx)("button",{onClick:()=>j(!s),type:"button",className:"txt-medium text-ui-fg-interactive hover:text-ui-fg-interactive-hover","data-testid":"add-discount-button",children:"Add gift card or discount code"}),(0,a.jsx)(c.Tooltip,{content:"You can add multiple gift cards, but only one discount code.",children:(0,a.jsx)(n.Z,{color:"var(--fg-muted)"})})]}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex w-full gap-x-2 items-center",children:[(0,a.jsx)(u.Z,{label:"Please enter code",name:"code",type:"text",autoFocus:!1,"data-testid":"discount-input"}),(0,a.jsx)(m.M,{variant:"secondary","data-testid":"discount-apply-button",children:"Apply"})]}),(0,a.jsx)(f.Z,{error:y,"data-testid":"discount-error-message"})]})]})]})})}},39895:function(e,t,s){var a=s(57437);t.Z=e=>{let{error:t,"data-testid":s}=e;return t?(0,a.jsx)("div",{className:"pt-2 text-rose-500 text-small-regular","data-testid":s,children:(0,a.jsx)("span",{children:t})}):null}},85605:function(e,t,s){s.d(t,{M:function(){return i}});var a=s(57437),n=s(98340);s(2265);var r=s(54887);function i(e){let{children:t,variant:s="primary",className:i,"data-testid":l}=e,{pending:c}=(0,r.useFormStatus)();return(0,a.jsx)(n.z,{size:"large",className:i,type:"submit",isLoading:c,variant:s,"data-testid":l,children:t})}},48421:function(e,t,s){s.r(t);var a=s(57437),n=s(46128),r=s(52611),i=s(85375);s(2265),t.default=e=>{let{data:t}=e,{subtotal:s,discount_total:l,gift_card_total:c,tax_total:d,shipping_total:o,total:u}=t,x=e=>(0,n.dN)({amount:e||0,region:t.region,includeTaxes:!1});return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-2 txt-medium text-ui-fg-subtle ",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"flex gap-x-1 items-center",children:["Subtotal",(0,a.jsx)(i.Tooltip,{content:"Cart total excluding shipping and taxes.",children:(0,a.jsx)(r.Z,{color:"var(--fg-muted)"})})]}),(0,a.jsx)("span",{"data-testid":"cart-subtotal","data-value":s||0,children:x(s)})]}),!!l&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Discount"}),(0,a.jsxs)("span",{className:"text-ui-fg-interactive","data-testid":"cart-discount","data-value":l||0,children:["- ",x(l)]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Shipping"}),(0,a.jsx)("span",{"data-testid":"cart-shipping","data-value":o||0,children:x(o)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"flex gap-x-1 items-center ",children:"Taxes"}),(0,a.jsx)("span",{"data-testid":"cart-taxes","data-value":d||0,children:x(d)})]}),!!c&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Gift card"}),(0,a.jsxs)("span",{className:"text-ui-fg-interactive","data-testid":"cart-gift-card-amount","data-value":c||0,children:["- ",x(c)]})]})]}),(0,a.jsx)("div",{className:"h-px w-full border-b border-gray-200 my-4"}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-ui-fg-base mb-2 txt-medium ",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{className:"txt-xlarge-plus","data-testid":"cart-total","data-value":u||0,children:x(u)})]}),(0,a.jsx)("div",{className:"h-px w-full border-b border-gray-200 mt-4"})]})}},71637:function(e,t,s){var a=s(57437),n=s(40342),r=s(79849),i=s(62637),l=s(2265),c=s(96597);t.Z=e=>{let{id:t,children:s,className:d}=e,[o,u]=(0,l.useState)(!1),x=async e=>{u(!0),await (0,c.l2)(e).catch(e=>{u(!1)})};return(0,a.jsx)("div",{className:(0,i.L)("flex items-center justify-between text-small-regular",d),children:(0,a.jsxs)("button",{className:"flex gap-x-1 text-ui-fg-subtle hover:text-ui-fg-base cursor-pointer",onClick:()=>x(t),children:[o?(0,a.jsx)(n.Z,{className:"animate-spin"}):(0,a.jsx)(r.Z,{}),(0,a.jsx)("span",{children:s})]})})}},10315:function(e,t,s){s.d(t,{Z:function(){return d}});var a=s(57437),n=s(51116),r=s(2265),i=e=>{let{size:t="20",color:s="currentColor",...n}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[(0,a.jsx)("path",{d:"M2.5 9.99992C2.5 9.99992 5.22727 4.58325 10 4.58325C14.7727 4.58325 17.5 9.99992 17.5 9.99992C17.5 9.99992 14.7727 15.4166 10 15.4166C5.22727 15.4166 2.5 9.99992 2.5 9.99992Z",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M9.99965 12.074C11.145 12.074 12.0735 11.1455 12.0735 10.0001C12.0735 8.85477 11.145 7.92627 9.99965 7.92627C8.85428 7.92627 7.92578 8.85477 7.92578 10.0001C7.92578 11.1455 8.85428 12.074 9.99965 12.074Z",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},l=e=>{let{size:t="20",color:s="currentColor",...n}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[(0,a.jsx)("path",{d:"M8.56818 4.70906C9.0375 4.59921 9.518 4.54429 10 4.54543C14.7727 4.54543 17.5 9.99997 17.5 9.99997C17.0861 10.7742 16.5925 11.5032 16.0273 12.175M11.4455 11.4454C11.2582 11.6464 11.0324 11.8076 10.7815 11.9194C10.5306 12.0312 10.2597 12.0913 9.98506 12.0961C9.71042 12.101 9.43761 12.0505 9.18292 11.9476C8.92822 11.8447 8.69686 11.6916 8.50262 11.4973C8.30839 11.3031 8.15527 11.0718 8.05239 10.8171C7.94952 10.5624 7.899 10.2896 7.90384 10.0149C7.90869 9.74027 7.9688 9.46941 8.0806 9.2185C8.19239 8.9676 8.35358 8.74178 8.55455 8.55452M14.05 14.05C12.8845 14.9384 11.4653 15.4306 10 15.4545C5.22727 15.4545 2.5 9.99997 2.5 9.99997C3.34811 8.41945 4.52441 7.03857 5.95 5.94997L14.05 14.05Z",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M2.5 2.5L17.5 17.5",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})};let c=r.forwardRef((e,t)=>{let{type:s,name:c,label:d,touched:o,required:u,topLabel:x,...f}=e,m=r.useRef(null),[h,p]=(0,r.useState)(!1),[j,b]=(0,r.useState)(s);return(0,r.useEffect)(()=>{"password"===s&&h&&b("text"),"password"!==s||h||b("password")},[s,h]),(0,r.useImperativeHandle)(t,()=>m.current),(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[x&&(0,a.jsx)(n.Label,{className:"mb-2 txt-compact-medium-plus",children:x}),(0,a.jsxs)("div",{className:"flex relative z-0 w-full txt-compact-medium",children:[(0,a.jsx)("input",{type:j,name:c,placeholder:" ",required:u,className:"pt-4 pb-1 block w-full h-11 px-4 mt-0 bg-ui-bg-field border rounded-md appearance-none focus:outline-none focus:ring-0 focus:shadow-borders-interactive-with-active border-ui-border-base hover:bg-ui-bg-field-hover",...f,ref:m}),(0,a.jsxs)("label",{htmlFor:c,onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.focus()},className:"flex items-center justify-center mx-3 px-1 transition-all absolute duration-300 top-3 -z-1 origin-0 text-ui-fg-subtle",children:[d,u&&(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),"password"===s&&(0,a.jsx)("button",{type:"button",onClick:()=>p(!h),className:"text-ui-fg-subtle px-4 focus:outline-none transition-all duration-150 outline-none focus:text-ui-fg-base absolute right-0 top-3",children:h?(0,a.jsx)(i,{}):(0,a.jsx)(l,{})})]})]})});c.displayName="Input";var d=c},52701:function(e,t,s){var a=s(57437);s(2265),t.Z=e=>{let{size:t="16",color:s="currentColor",...n}=e;return(0,a.jsx)("svg",{width:t,height:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:(0,a.jsx)("path",{d:"M4 6L8 10L12 6",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},29034:function(e,t,s){var a=s(57437);s(2265),t.Z=e=>{let{size:t="16",color:s="currentColor",...n}=e;return(0,a.jsxs)("svg",{className:"animate-spin",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...n,children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:s,strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:s,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}}}]);