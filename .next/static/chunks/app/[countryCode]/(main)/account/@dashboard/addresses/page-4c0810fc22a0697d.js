(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{52522:function(e,t,s){Promise.resolve().then(s.bind(s,77685)),Promise.resolve().then(s.bind(s,73403))},71881:function(e,t,s){"use strict";var a=s(2265);t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,s]=(0,a.useState)(e),r=()=>{s(!1)},n=()=>{s(!0)},l=()=>{s(e=>!e)},d=[t,n,r,l];return d.state=t,d.open=n,d.close=r,d.toggle=l,d}},76130:function(e,t,s){"use strict";s.d(t,{Db:function(){return o},IH:function(){return m},O4:function(){return l},Pz:function(){return d},RN:function(){return x},hs:function(){return c},ru:function(){return p},w7:function(){return r},y1:function(){return n},yU:function(){return u},ys:function(){return i}}),s(15355);var a=s(31162),r=(0,a.$)("310c63e36d62c420b7df27200ea56d261f4f90b5"),n=(0,a.$)("886e37fba529d7ca2b23e43ec12d9ceb293b5a13"),l=(0,a.$)("01dbaf1883ac467e1c6f28ee0bcd82c67e62a92f"),d=(0,a.$)("93fcd715d0475ae3d6b4343e32bbad1f57b05f0b"),i=(0,a.$)("78ab5dcde42cbf0ed4bd7f8e339c7790a68d20bc"),o=(0,a.$)("d50c6a577ca95e52576309c55cc5f1b8f045a07a"),c=(0,a.$)("1069bb1e8a5c99206d4b82f1d754272bc0192604"),u=(0,a.$)("c2b5ab67732005f0aea8124d9b7c672c46e33da7"),m=(0,a.$)("ae0e4c65aaaee0cccef400c45a3ddeceab4ebb41"),x=(0,a.$)("d1f685289f60e61eae4bfe29216e5487089f07bb"),p=(0,a.$)("3f4afdaaea61624e9c689869bd6991e767e21c11")},77685:function(e,t,s){"use strict";s.r(t);var a=s(57437),r=s(25936),n=s(59954),l=s(98340),d=s(2265),i=s(54887),o=s(71881),c=s(10386),u=s(10315),m=s(73663),x=s(85605),p=s(76130);t.default=e=>{let{region:t}=e,[s,f]=(0,d.useState)(!1),{state:h,open:b,close:v}=(0,o.Z)(!1),[j,g]=(0,i.useFormState)(p.yU,{success:!1,error:null}),y=()=>{f(!1),v()};return(0,d.useEffect)(()=>{s&&y()},[s]),(0,d.useEffect)(()=>{j.success&&f(!0)},[j]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{className:"border border-ui-border-base rounded-rounded p-5 min-h-[220px] h-full w-full flex flex-col justify-between",onClick:b,"data-testid":"add-address-button",children:[(0,a.jsx)("span",{className:"text-base-semi",children:"New address"}),(0,a.jsx)(r.Z,{})]}),(0,a.jsxs)(m.Z,{isOpen:h,close:y,"data-testid":"add-address-modal",children:[(0,a.jsx)(m.Z.Title,{children:(0,a.jsx)(n.X,{className:"mb-2",children:"Add address"})}),(0,a.jsxs)("form",{action:g,children:[(0,a.jsxs)(m.Z.Body,{children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-x-2",children:[(0,a.jsx)(u.Z,{label:"First name",name:"first_name",required:!0,autoComplete:"given-name","data-testid":"first-name-input"}),(0,a.jsx)(u.Z,{label:"Last name",name:"last_name",required:!0,autoComplete:"family-name","data-testid":"last-name-input"})]}),(0,a.jsx)(u.Z,{label:"Company",name:"company",autoComplete:"organization","data-testid":"company-input"}),(0,a.jsx)(u.Z,{label:"Address",name:"address_1",required:!0,autoComplete:"address-line1","data-testid":"address-1-input"}),(0,a.jsx)(u.Z,{label:"Apartment, suite, etc.",name:"address_2",autoComplete:"address-line2","data-testid":"address-2-input"}),(0,a.jsxs)("div",{className:"grid grid-cols-[144px_1fr] gap-x-2",children:[(0,a.jsx)(u.Z,{label:"Postal code",name:"postal_code",required:!0,autoComplete:"postal-code","data-testid":"postal-code-input"}),(0,a.jsx)(u.Z,{label:"City",name:"city",required:!0,autoComplete:"locality","data-testid":"city-input"})]}),(0,a.jsx)(u.Z,{label:"Province / State",name:"province",autoComplete:"address-level1","data-testid":"state-input"}),(0,a.jsx)(c.Z,{region:t,name:"country_code",required:!0,autoComplete:"country","data-testid":"country-select"}),(0,a.jsx)(u.Z,{label:"Phone",name:"phone",autoComplete:"phone","data-testid":"phone-input"})]}),j.error&&(0,a.jsx)("div",{className:"text-rose-500 text-small-regular py-2","data-testid":"address-error",children:j.error})]}),(0,a.jsx)(m.Z.Footer,{children:(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,a.jsx)(l.z,{type:"reset",variant:"secondary",onClick:y,className:"h-10","data-testid":"cancel-button",children:"Cancel"}),(0,a.jsx)(x.M,{"data-testid":"save-button",children:"Save"})]})})]})]})]})}},73403:function(e,t,s){"use strict";s.r(t);var a=s(57437),r=s(2265),n=s(56330),l=s(79849),d=s(62637),i=s(59954),o=s(56235),c=s(98340),u=s(71881),m=s(10386),x=s(10315),p=s(73663),f=s(76130),h=s(29034),b=s(54887),v=s(85605);t.default=e=>{var t;let{region:s,address:j,isActive:g=!1}=e,[y,C]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),{state:Z,open:k,close:_}=(0,u.Z)(!1),[L,F]=(0,b.useFormState)(f.IH,{success:!1,error:null,addressId:j.id}),S=()=>{w(!1),_()};(0,r.useEffect)(()=>{N&&S()},[N]),(0,r.useEffect)(()=>{L.success&&w(!0)},[L]);let V=async()=>{C(!0),await (0,f.RN)(j.id),C(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:(0,d.L)("border rounded-rounded p-5 min-h-[220px] h-full w-full flex flex-col justify-between transition-colors",{"border-gray-900":g}),"data-testid":"address-container",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)(i.X,{className:"text-left text-base-semi","data-testid":"address-name",children:[j.first_name," ",j.last_name]}),j.company&&(0,a.jsx)(o.x,{className:"txt-compact-small text-ui-fg-base","data-testid":"address-company",children:j.company}),(0,a.jsxs)(o.x,{className:"flex flex-col text-left text-base-regular mt-2",children:[(0,a.jsxs)("span",{"data-testid":"address-address",children:[j.address_1,j.address_2&&(0,a.jsxs)("span",{children:[", ",j.address_2]})]}),(0,a.jsxs)("span",{"data-testid":"address-postal-city",children:[j.postal_code,", ",j.city]}),(0,a.jsxs)("span",{"data-testid":"address-province-country",children:[j.province&&"".concat(j.province,", "),null===(t=j.country_code)||void 0===t?void 0:t.toUpperCase()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,a.jsxs)("button",{className:"text-small-regular text-ui-fg-base flex items-center gap-x-2",onClick:k,"data-testid":"address-edit-button",children:[(0,a.jsx)(n.Z,{}),"Edit"]}),(0,a.jsxs)("button",{className:"text-small-regular text-ui-fg-base flex items-center gap-x-2",onClick:V,"data-testid":"address-delete-button",children:[y?(0,a.jsx)(h.Z,{}):(0,a.jsx)(l.Z,{}),"Remove"]})]})]}),(0,a.jsxs)(p.Z,{isOpen:Z,close:S,"data-testid":"edit-address-modal",children:[(0,a.jsx)(p.Z.Title,{children:(0,a.jsx)(i.X,{className:"mb-2",children:"Edit address"})}),(0,a.jsxs)("form",{action:F,children:[(0,a.jsxs)(p.Z.Body,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-y-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-x-2",children:[(0,a.jsx)(x.Z,{label:"First name",name:"first_name",required:!0,autoComplete:"given-name",defaultValue:j.first_name||void 0,"data-testid":"first-name-input"}),(0,a.jsx)(x.Z,{label:"Last name",name:"last_name",required:!0,autoComplete:"family-name",defaultValue:j.last_name||void 0,"data-testid":"last-name-input"})]}),(0,a.jsx)(x.Z,{label:"Company",name:"company",autoComplete:"organization",defaultValue:j.company||void 0,"data-testid":"company-input"}),(0,a.jsx)(x.Z,{label:"Address",name:"address_1",required:!0,autoComplete:"address-line1",defaultValue:j.address_1||void 0,"data-testid":"address-1-input"}),(0,a.jsx)(x.Z,{label:"Apartment, suite, etc.",name:"address_2",autoComplete:"address-line2",defaultValue:j.address_2||void 0,"data-testid":"address-2-input"}),(0,a.jsxs)("div",{className:"grid grid-cols-[144px_1fr] gap-x-2",children:[(0,a.jsx)(x.Z,{label:"Postal code",name:"postal_code",required:!0,autoComplete:"postal-code",defaultValue:j.postal_code||void 0,"data-testid":"postal-code-input"}),(0,a.jsx)(x.Z,{label:"City",name:"city",required:!0,autoComplete:"locality",defaultValue:j.city||void 0,"data-testid":"city-input"})]}),(0,a.jsx)(x.Z,{label:"Province / State",name:"province",autoComplete:"address-level1",defaultValue:j.province||void 0,"data-testid":"state-input"}),(0,a.jsx)(m.Z,{name:"country_code",region:s,required:!0,autoComplete:"country",defaultValue:j.country_code||void 0,"data-testid":"country-select"}),(0,a.jsx)(x.Z,{label:"Phone",name:"phone",autoComplete:"phone",defaultValue:j.phone||void 0,"data-testid":"phone-input"})]}),L.error&&(0,a.jsx)("div",{className:"text-rose-500 text-small-regular py-2",children:L.error})]}),(0,a.jsx)(p.Z.Footer,{children:(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,a.jsx)(c.z,{type:"reset",variant:"secondary",onClick:S,className:"h-10","data-testid":"cancel-button",children:"Cancel"}),(0,a.jsx)(v.M,{"data-testid":"save-button",children:"Save"})]})})]})]})]})}},10386:function(e,t,s){"use strict";var a=s(57437),r=s(2265),n=s(76825);let l=(0,r.forwardRef)((e,t)=>{let{placeholder:s="Country",region:l,defaultValue:d,...i}=e,o=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,()=>o.current);let c=(0,r.useMemo)(()=>l?l.countries.map(e=>({value:e.iso_2,label:e.display_name})):[],[l]);return(0,a.jsx)(n.Z,{ref:o,placeholder:s,defaultValue:d,...i,children:c.map((e,t)=>{let{value:s,label:r}=e;return(0,a.jsx)("option",{value:s,children:r},t)})})});l.displayName="CountrySelect",t.Z=l},85605:function(e,t,s){"use strict";s.d(t,{M:function(){return l}});var a=s(57437),r=s(98340);s(2265);var n=s(54887);function l(e){let{children:t,variant:s="primary",className:l,"data-testid":d}=e,{pending:i}=(0,n.useFormStatus)();return(0,a.jsx)(r.z,{size:"large",className:l,type:"submit",isLoading:i,variant:s,"data-testid":d,children:t})}},10315:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(57437),r=s(51116),n=s(2265),l=e=>{let{size:t="20",color:s="currentColor",...r}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:[(0,a.jsx)("path",{d:"M2.5 9.99992C2.5 9.99992 5.22727 4.58325 10 4.58325C14.7727 4.58325 17.5 9.99992 17.5 9.99992C17.5 9.99992 14.7727 15.4166 10 15.4166C5.22727 15.4166 2.5 9.99992 2.5 9.99992Z",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M9.99965 12.074C11.145 12.074 12.0735 11.1455 12.0735 10.0001C12.0735 8.85477 11.145 7.92627 9.99965 7.92627C8.85428 7.92627 7.92578 8.85477 7.92578 10.0001C7.92578 11.1455 8.85428 12.074 9.99965 12.074Z",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},d=e=>{let{size:t="20",color:s="currentColor",...r}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:[(0,a.jsx)("path",{d:"M8.56818 4.70906C9.0375 4.59921 9.518 4.54429 10 4.54543C14.7727 4.54543 17.5 9.99997 17.5 9.99997C17.0861 10.7742 16.5925 11.5032 16.0273 12.175M11.4455 11.4454C11.2582 11.6464 11.0324 11.8076 10.7815 11.9194C10.5306 12.0312 10.2597 12.0913 9.98506 12.0961C9.71042 12.101 9.43761 12.0505 9.18292 11.9476C8.92822 11.8447 8.69686 11.6916 8.50262 11.4973C8.30839 11.3031 8.15527 11.0718 8.05239 10.8171C7.94952 10.5624 7.899 10.2896 7.90384 10.0149C7.90869 9.74027 7.9688 9.46941 8.0806 9.2185C8.19239 8.9676 8.35358 8.74178 8.55455 8.55452M14.05 14.05C12.8845 14.9384 11.4653 15.4306 10 15.4545C5.22727 15.4545 2.5 9.99997 2.5 9.99997C3.34811 8.41945 4.52441 7.03857 5.95 5.94997L14.05 14.05Z",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M2.5 2.5L17.5 17.5",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})};let i=n.forwardRef((e,t)=>{let{type:s,name:i,label:o,touched:c,required:u,topLabel:m,...x}=e,p=n.useRef(null),[f,h]=(0,n.useState)(!1),[b,v]=(0,n.useState)(s);return(0,n.useEffect)(()=>{"password"===s&&f&&v("text"),"password"!==s||f||v("password")},[s,f]),(0,n.useImperativeHandle)(t,()=>p.current),(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[m&&(0,a.jsx)(r.Label,{className:"mb-2 txt-compact-medium-plus",children:m}),(0,a.jsxs)("div",{className:"flex relative z-0 w-full txt-compact-medium",children:[(0,a.jsx)("input",{type:b,name:i,placeholder:" ",required:u,className:"pt-4 pb-1 block w-full h-11 px-4 mt-0 bg-ui-bg-field border rounded-md appearance-none focus:outline-none focus:ring-0 focus:shadow-borders-interactive-with-active border-ui-border-base hover:bg-ui-bg-field-hover",...x,ref:p}),(0,a.jsxs)("label",{htmlFor:i,onClick:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.focus()},className:"flex items-center justify-center mx-3 px-1 transition-all absolute duration-300 top-3 -z-1 origin-0 text-ui-fg-subtle",children:[o,u&&(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),"password"===s&&(0,a.jsx)("button",{type:"button",onClick:()=>h(!f),className:"text-ui-fg-subtle px-4 focus:outline-none transition-all duration-150 outline-none focus:text-ui-fg-base absolute right-0 top-3",children:f?(0,a.jsx)(l,{}):(0,a.jsx)(d,{})})]})]})});i.displayName="Input";var o=i},73663:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var a=s(57437),r=s(16856),n=s(82796),l=s(62637),d=s(2265);let i=(0,d.createContext)(null),o=e=>{let{children:t,close:s}=e;return(0,a.jsx)(i.Provider,{value:{close:s},children:t})},c=()=>{let e=(0,d.useContext)(i);if(null===e)throw Error("useModal must be used within a ModalProvider");return e};var u=s(72555);let m=e=>{let{isOpen:t,close:s,size:i="medium",search:c=!1,children:u,"data-testid":m}=e;return(0,a.jsx)(r.u,{appear:!0,show:t,as:d.Fragment,children:(0,a.jsxs)(n.V,{as:"div",className:"relative z-[75]",onClose:s,children:[(0,a.jsx)(r.u.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-opacity-75 backdrop-blur-md  h-screen"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-hidden",children:(0,a.jsx)("div",{className:(0,l.L)("flex min-h-full h-full justify-center p-4 text-center",{"items-center":!c,"items-start":c}),children:(0,a.jsx)(r.u.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsx)(n.V.Panel,{"data-testid":m,className:(0,l.L)("flex flex-col justify-start w-full transform p-5 text-left align-middle transition-all max-h-[75vh] h-fit",{"max-w-md":"small"===i,"max-w-xl":"medium"===i,"max-w-3xl":"large"===i,"bg-transparent shadow-none":c,"bg-white shadow-xl border rounded-rounded":!c}),children:(0,a.jsx)(o,{close:s,children:u})})})})})]})})};m.Title=e=>{let{children:t}=e,{close:s}=c();return(0,a.jsxs)(n.V.Title,{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-large-semi",children:t}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:s,"data-testid":"close-modal-button",children:(0,a.jsx)(u.Z,{size:20})})})]})},m.Description=e=>{let{children:t}=e;return(0,a.jsx)(n.V.Description,{className:"flex text-small-regular text-ui-fg-base items-center justify-center pt-2 pb-4 h-full",children:t})},m.Body=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"flex justify-center",children:t})},m.Footer=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"flex items-center justify-end gap-x-4",children:t})};var x=m},76825:function(e,t,s){"use strict";var a=s(57437),r=s(57044),n=s(62637),l=s(2265);let d=(0,l.forwardRef)((e,t)=>{var s;let{placeholder:d="Select...",defaultValue:i,className:o,children:c,...u}=e,m=(0,l.useRef)(null),[x,p]=(0,l.useState)(!1);return(0,l.useImperativeHandle)(t,()=>m.current),(0,l.useEffect)(()=>{m.current&&""===m.current.value?p(!0):p(!1)},[null===(s=m.current)||void 0===s?void 0:s.value]),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{onFocus:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.focus()},onBlur:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.blur()},className:(0,n.L)("relative flex items-center text-base-regular border border-ui-border-base bg-ui-bg-subtle rounded-md hover:bg-ui-bg-field-hover",o,{"text-ui-fg-muted":x}),children:[(0,a.jsxs)("select",{ref:m,defaultValue:i,...u,className:"appearance-none flex-1 bg-transparent border-none px-4 py-2.5 transition-colors duration-150 outline-none ",children:[(0,a.jsx)("option",{disabled:!0,value:"",children:d}),c]}),(0,a.jsx)("span",{className:"absolute right-4 inset-y-0 flex items-center pointer-events-none ",children:(0,a.jsx)(r.Z,{})})]})})});d.displayName="NativeSelect",t.Z=d},29034:function(e,t,s){"use strict";var a=s(57437);s(2265),t.Z=e=>{let{size:t="16",color:s="currentColor",...r}=e;return(0,a.jsxs)("svg",{className:"animate-spin",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...r,children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:s,strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:s,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},72555:function(e,t,s){"use strict";var a=s(57437);s(2265),t.Z=e=>{let{size:t="20",color:s="currentColor",...r}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:[(0,a.jsx)("path",{d:"M15 5L5 15",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M5 5L15 15",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}}},function(e){e.O(0,[8982,377,2796,1750,2971,4938,1744],function(){return e(e.s=52522)}),_N_E=e.O()}]);